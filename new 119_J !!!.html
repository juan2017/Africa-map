<!DOCTYPE html>
<html>
  <head>
  <style>
    #map-canvas { width:800px; height:500px; }
    .layer-wizard-search-label { font-family: sans-serif };
  </style>
  <script type="text/javascript"
    src="http://maps.google.com/maps/api/js?sensor=false">
 

 </script>
   <style type="text/css">
      #legend {
        background: #FFF;
        padding: 10px;
        margin: 5px;
        font-size: 12px;
        font-family: Arial, sans-serif;
      }

      .color {
        border: 1px solid;
        height: 12px;
        width: 12px;
        margin-right: 3px;
        float: left;
      }

      .red {
        background: #C00;
      }

      .yellow {
        background: #FF3;
      }

      .green {
        background: #6F0;
      }

      .blue {
        background: #06C;
      }

      .purple {
        background: #63C;
      }
    </style>
  
  
  
  
  <script type="text/javascript">


   var map
   var map1
    function init() {
      map = new google.maps.Map(document.getElementById('map-canvas'), {
        center: new google.maps.LatLng(42.3309136088225, -0.8102480499999274),
        zoom: 5,
        mapTypeId: google.maps.MapTypeId.ROADMAP
      });
	  
     
	  
      
	  
	  map1 = new google.maps.FusionTablesLayer({
        query: {
          select: "col1",
          from: "1sJvgByqwG3uK434tAQNL19tErPnNiajarB2o2Lz6"
        },
        map: map,
        styleId: 2,
        //templateId: 3,
		
		
   
            //don't use the infowindows of the FTLayer
      suppressInfoWindows:true
    });
      
	  
	  //Create a custom infowindow
    infowindow=new google.maps.InfoWindow();


    google.maps.event.addListener(map1, 'click', function(e) {
      //call drawVisualization when the infowindow is ready
      google.maps.event.addListenerOnce(infowindow,'domready',function(){
       
      });
        //create the content for the infowindow
      var node=document.createElement('div');

    
 node.innerHTML= '<iframe src=https://www.google.com/fusiontables/embedviz?containerId=googft-gviz-canvas&q=select+col0%2C+col2%2C+col3%2C+col4%2C+col5+from+1sJvgByqwG3uK434tAQNL19tErPnNiajarB2o2Lz6+%20WHERE%20site=%27'+ e.row['site'].value +'%27+order+by+col0+asc+limit+10&viz=GVIZ&t=COLUMN&uiversion=2&gco_forceIFrame=true&gco_hasLabelsColumn=true&width=250&height=150 frameborder="0"; scrolling="no"/>';
      

infowindow.setOptions({position:e.latLng,content:node,map:map});
       });
	

	

	
	// Create the legend and display on the map
        var legend = document.createElement('div');
        legend.id = 'legend';
        var content = [];
        content.push('<h3>Map1:% Enrolment target achieved</h3>');
       
        content.push('<img src=https://www.google.com/mapfiles/ms/micons/red-dot.png></div>>=100% <img src=https://www.google.com/mapfiles/ms/micons/yellow-dot.png>80-100% <img src=https://www.google.com/mapfiles/ms/micons/green-dot.png></div>60-80% <img src=https://www.google.com/mapfiles/ms/micons/blue-dot.png></div><60%</p>');
        content.push('<h3>Map2:Growth last 4 weeks</h3>');
		content.push('<img src=https://www.google.com/mapfiles/ms/micons/red-dot.png></div>>=100% <img src=https://www.google.com/mapfiles/ms/micons/yellow-dot.png>80-100% <img src=https://www.google.com/mapfiles/ms/micons/green-dot.png></div>60-80% <img src=https://www.google.com/mapfiles/ms/micons/blue-dot.png></div><60%</p>');
        content.push('<h3>Map3:% pre-ART patients</h3>');
		content.push('<img src=https://www.google.com/mapfiles/ms/micons/red-dot.png></div>>=100% <img src=https://www.google.com/mapfiles/ms/micons/yellow-dot.png>80-100% <img src=https://www.google.com/mapfiles/ms/micons/green-dot.png></div>60-80% <img src=https://www.google.com/mapfiles/ms/micons/blue-dot.png></div><60%</p>');
        
        content.push('<img src=https://www.google.com/mapfiles/ms/micons/green-dot.png></div>Limenitis</p>');
        content.push('<img src=https://www.google.com/mapfiles/ms/micons/blue-dot.png></div>Myscelia</p>');
        content.push('<p>*Data is fictional</p>');
        legend.innerHTML = content.join('');
        legend.index = 1;
        map.controls[google.maps.ControlPosition.LEFT_BOTTOM].push(legend);
      }


	
	
      var map2= new google.maps.FusionTablesLayer({
        query: {
          select: "col0",
          from: "1eTnYm-VMHe6Nd8jioeEp6a6LSwzottZervV5knMF"
        },
        map: map,
        styleId: 2,

		
		
        //templateId: 2
   
            //don't use the infowindows of the FTLayer
      suppressInfoWindows:true
    });
      //Create a custom infowindow
    infowindow=new google.maps.InfoWindow();


    google.maps.event.addListener(map2, 'click', function(e) {
      //call drawVisualization when the infowindow is ready
      google.maps.event.addListenerOnce(infowindow,'domready',function(){
       
      });
        //create the content for the infowindow
      var node=document.createElement('div');

    
     var number=e.row['number'].value;
	  var code2=number + "+from+1sVA_gSO6cq5WN4fPVoCTgRf-aooeTPLOviYBUv_3+order+by+col0+asc+limit+10&viz=GVIZ&t=LINE&uiversion=2&gco_forceIFrame=true&gco_hasLabelsColumn=true&width=350&height=200/>'";
      var code1="'<iframe style='width: 100%;height: 200px' frameborder='0' scrolling='no' src=https://www.google.com/fusiontables/embedviz?containerId=googft-gviz-canvas&q=select+col0%2C+col"
	  
       
	  node.innerHTML=code1 + code2   

infowindow.setOptions({position:e.latLng,content:node,map:map});
     });
	
	
google.maps.event.addDomListener(window, 'load', initialize);
	 
	 
	 function selectChange(){
var value = document.getElementById('map').value;
  if (value =='1')
	map1.setMap(map);
		else if (value =='2')
			map2.setMap(map);
		
	else	
		map1.setMap(null);
			
	$('#map').removeAttr('disabled');
};
</script>

</head>
<body id="body" onload="init();">
<div id="list" style="position:absolute; right:250; top:5px; width:100px; height:25px;">
<select name="map" id="map" onchange="selectChange()">
  <option selected value="1">Map 1</option>
  <option value="2">Map 2</option>
  
</select>
</div>
<div id="map-canvas" style="position:absolute; left:25; top:35px; width:1000px; height:760px"></div>
</body>
</html>